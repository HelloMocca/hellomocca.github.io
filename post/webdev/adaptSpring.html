<!DOCTYPE HTML>
<html>
  <head>
    <title>FrontEnd Developer: HelloMocca</title>
    <meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=10">
	<link rel="stylesheet" href="../../css/myTheme.css">
    <style>
      canvas {
        position:relative;
        margin:0 auto;
        background-color:black;
      }
    </style>
  </head>
  <body>
	<div id="header" class="wrap">
	  <div style="padding:25px">
	    <h1><a href="/">안녕모카의 로스팅머신</a></h1>
		<ul id="nav">
			<li>일상</li>
			<li>웹 개발</li>
			<li>컴퓨터과학</li>
			<li>디자인</li>
		</ul>
	  </div>
	</div>
    <div id="cloud-layer1">
    </div>
    <div id="cloud-layer2">
    </div>
	<div id="content" class="wrap">
	  <div class="article">
        <h1 class="article-title">기존프로젝트에 Spring Framework 적용하기</h1>
        <div class="date"><span>최종수정일: 2015.04.20</span></div>
        <div class="content">
            <h2>Step 1: Dependency에 추가하기</h2>
            <p>
               웹 프로젝트의 pom.xml에 Spring Framework 에 대한 Dependency를 추가한다.
            </p>
            <pre class="source-viewer">
                <'dependency>
                    <'groupId>org.springframework<'/groupId>
                    <'artifactId>spring-webmvc<'/artifactId>
                    <'version>4.1.6.RELEASE<'/version>
                <'/dependency>
            </pre>
            <p>
                이후에 메이븐을 빌드하면 Spring Framework와 함께 이와 관련된 라이브러리들이 함께 추가되는데 이는 Maven의 '의존성전이' 때문이다.
            </p>
            <h2>Spring Framework 설정 파일 작성</h2>
            <p>
                web.xml에 최초로 접근하는 서블릿인 dispatcherServlet을 추가하고 매핑한다.
            </p>
            <pre class="source-viewer">
                <'servlet>
                    <'servlet-name>mocca<'/servlet-name>
                    <'servlet-class>org.springframework.web.servlet.DispatcherServlet<'/servlet-class>
                <'/servlet>

                <'servlet-mapping>
                    <'servlet-name>mocca<'/servlet-name>
                    <'url-pattern>/<'/url-pattern>
                <'/servlet-mapping>
            </pre>
            <p>
                웹 컨테이너 실행시 WEB-INF/{servlet-name}-servlet.xml 에서 스프링 MVC와 관련된 설정을 찾는다.
                따라서 WEB-INF/ 에 {servlet-name}-servlet.xml, 이번 예제에서는 mocca-servlet.xml 이란 파일을 생성하게된다.
                Eclipse에 스프링지원 플러그인인 STS가 설치되어 있다면 New File에서 Spring Bean Configuration File 을 선택한다.
                추가하는 과정에서 context와 mvc 그리고 p 네임스페이스를 추가한다.
                그리고 다음과 같이 설정값을 추가한다.
            </p>
            <pre class="source-viewer"><!--
                <?xml version="1.0" encoding="UTF-8"?>
                <beans xmlns="http://www.springframework.org/schema/beans"
                       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                       xmlns:context="http://www.springframework.org/schema/context"
                       xmlns:mvc="http://www.springframework.org/schema/mvc"
                       xmlns:p="http://www.springframework.org/schema/p"
                       xsi:schemaLocation="http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">

                    <context:component-scan base-package="net.mocca.web" />
                    <mvc:annotation-driven />
                    <bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"
                          p:prefix="/"
                          p:suffix=".jsp/" />
                </beans>-->
            </pre>
            <h2>Step3: Controller 생성</h2>
            <p>
                Spring MVC 설정을 완료했으니 이제 Controller를 만들어서 시험해본다.
                위에서 base-package를 net.mocca.web 으로 선언했으므로 net.mocca.web package를 만들고 그안에 index.jsp를 띄워주는 HomeController를
                다음과 같이 작성한다.
            </p>
            <pre class="source-viewer">
                package net.mocca.web;

                import org.springframework.stereotype.Controller;
                import org.springframework.web.bind.annotation.RequestMapping;

                //Controller 어노테이션 선언
                @Controller
                public class HomeController {

                    //매핑 url 을 "/"로 선언. 디폴트 method는 GET이다.
                    @RequestMapping("/")
                    public String getHome(){
                        return "index";
                    }
                }
            </pre>
        </div>
	  </div>
	</div>
	<div id="footer">
	   <img src="../../img/sheep.png">
	</div>
	<script src="../../js/cloud.js"></script>
  </body>
</html>